machine:
  pre:
    - sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.6 10
    - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.6 10
    - sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 20
    - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 20

  environment:
    SAF: “${HOME}/${CIRCLE_PROJECT_REPONAME}/“

checkout:
  override:
    - gcc --version
    - git clone https://github.com/MaryamZaheri/haploclique.git
    - cd haploclique
    - git submodule init && git submodule update

dependencies:
  pre: 
    - wget --no-check-certificate https://github.com/cbg-ethz/ConsensusFixer/releases/download/0.3.1/ConsensusFixer.jar
    - wget --no-check-certificate https://github.com/cbg-ethz/InDelFixer/releases/download/v1.1/InDelFixer.jar
    - sudo apt-get install libncurses5-dev cmake libboost-all-dev git build-essential zlib1g-dev parallel
  override:
    - mkdir build; cd build; sudo cmake ..; sudo make; sudo make install

general:
  branches:
    ignore:
      - master   
      - oneclick
